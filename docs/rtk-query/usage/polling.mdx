---
id: polling
title: Polling
sidebar_label: Polling
hide_title: true
description: 'RTK Query > Usage > Polling: re-fetching data on a timer'
---

&nbsp;

# Polling

## Polling Overview

Polling은 쿼리가 지정된 간격으로 실행되도록 하여 '실시간' 효과를 낼 수 있는 기능을 제공합니다. 쿼리에 대한 폴링을 활성화하려면 `pollingInterval`을 밀리초 단위로 `useQuery` hook 또는 action creator 에 전달합니다:

```tsx title="src/Pokemon.tsx" no-transpile
import * as React from 'react'
import { useGetPokemonByNameQuery } from './services/pokemon'

export const Pokemon = ({ name }: { name: string }) => {
  // Automatically refetch every 3s
  const { data, status, error, refetch } = useGetPokemonByNameQuery(name, {
    pollingInterval: 3000,
  })

  return <div>{data}</div>
}
```

React Hooks를 사용하지 않는 action creator에서:

```ts no-transpile
const { data, status, error, refetch } = store.dispatch(
  endpoints.getCountById.initiate(id, {
    subscriptionOptions: { pollingInterval: 3000 },
  })
)
```

## React Hooks 없이 Polling

React Hooks의 편리함 없이 폴링을 사용하는 경우, 간격을 업데이트하기 위해 promise ref에서 `updateSubscriptionOptions`를 수동으로 호출해야 합니다. 이 접근 방식은 프레임워크에 따라 다르지만 어디에서나 가능합니다. 한 가지 방법을 보여주자면 [Svelte 예제](./examples#svelte)를 참조하고, 수동으로 구독 작업에 대한 자세한 내용은 [React Hooks 없이 사용](./usage-without-react-hooks.mdx) 페이지를 참조하세요.

```ts no-transpile
queryRef.updateSubscriptionOptions({ pollingInterval: 0 })
```

## Polling 예시

<iframe
  src="https://codesandbox.io/embed/github/reduxjs/redux-toolkit/tree/master/examples/query/react/polling?fontsize=12&runonclick=1&hidenavigation=1&theme=dark"
  style={{
    width: '100%',
    height: '600px',
    border: 0,
    borderRadius: '4px',
    overflow: 'hidden',
  }}
  title="rtk-query-react-hooks-example"
  allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb"
  sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"
></iframe>
