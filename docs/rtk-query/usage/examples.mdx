---
id: examples
title: RTK Query Examples
sidebar_label: Examples
hide_title: true
description: 'RTK Query > Usage > Examples: sandboxes with runnable apps'
---

&nbsp;

# RTK Query Examples

## Examples Overview

RTK Query 사용의 다양한 측면을 보여주는 예시가 몇가지 있습니다.

이러한 예는 애플리케이션의 기반이 되는 것이 아니라, 애플리케이션에서 실제로 원하지 않거나 필요하지 않을 수 있는 _매우 구체적인_ 동작을 보여주기 위해 존재합니다. 대부분의 사용자는 [Queries](./queries) 및 [Mutations](./mutations) 섹션의 기본 예제를 통해 필요한 대부분의 예시를 확인할 수 있습니다.

:::tip

CodeSandbox에서 예제를 확인할 때, 특히 예제를 fork하고 파일 편집을 시작하는 경우 이상한 동작을 경험할 수 있습니다. 핫 리로딩과 CSB 서비스 작업자 및 [`msw`](https://mswjs.io/) 에 문제가 있을 수 있으며 올바른 페이지로 이동하는 데 문제가 있을 수 있습니다. 이 경우 CSB 브라우저 창에서 새로고침하여 해결 할 수 있습니다.

:::

## Kitchen Sink

<iframe
  src="https://codesandbox.io/embed/github/reduxjs/redux-toolkit/tree/master/examples/query/react/kitchen-sink?fontsize=12&hidenavigation=1&theme=dark&runonclick=1"
  style={{
    width: '100%',
    height: '800px',
    border: 0,
    borderRadius: '4px',
    overflow: 'hidden',
  }}
  title="RTK Query Kitchen Sink Example"
  allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb"
  sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"
></iframe>

## React Optimistic Updates

아래 예에서 몇 가지 사항을 알 수 있습니다. 사이드바에 2개의 `게시물` 목록이 있습니다. 맨 위는 성공적인 mutation를 업데이트 한 _뒤_ 서버와 다시 동기화합니다. _구독 된_ 하나는 optimistic update로 인해 즉시 업데이트됩니다. 진행 도중 오류가 발생하면 이것이 롤백되는 것을 볼 수 있습니다.

:::info
이 예제에는 의도적으로 이상한 동작이 있습니다... 게시물 이름을 편집할 때 임의의 오류가 발생할 가능성이 있습니다.
:::

<iframe
  src="https://codesandbox.io/embed/github/reduxjs/redux-toolkit/tree/master/examples/query/react/optimistic-update?fontsize=12&hidenavigation=1&module=%2Fsrc%2Fapp%2Fservices%2Fposts.ts&theme=dark&runonclick=1"
  style={{
    width: '100%',
    height: '800px',
    border: 0,
    borderRadius: '4px',
    overflow: 'hidden',
  }}
  title="RTK Query Optimistic Update Example"
  allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb"
  sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"
></iframe>

## React with GraphQL

<iframe
  src="https://codesandbox.io/embed/github/reduxjs/redux-toolkit/tree/master/examples/query/react/graphql?fontsize=12&hidenavigation=1&theme=dark&module=%2Fsrc%2Fapi.js&runonclick=1"
  style={{
    width: '100%',
    height: '800px',
    border: 0,
    borderRadius: '4px',
    overflow: 'hidden',
  }}
  title="RTK Query GraphQL Example"
  allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb"
  sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"
></iframe>

## Authentication

RTK Query를 통해 인증을 처리하는 방법에는 여러 가지가 있습니다. 이것은 매우 기본적인 예시로, login mutation을 통해 JWT를 가져와 store에 설정합니다. 이후 `prepareHeaders` 를 사용하여 후속 요청에 authentication headers를 삽입합니다.

### Dispatching an action to set the user state

이 예는 사용자 정보 및 토큰 정보를 저장하기 위해 `setCredentials` action을 dispatch합니다.

<iframe
  src="https://codesandbox.io/embed/github/reduxjs/redux-toolkit/tree/master/examples/query/react/authentication?fontsize=12&hidenavigation=1&module=%2Fsrc%2Ffeatures%2Fauth%2FauthSlice.tsx&theme=dark&runonclick=1"
  style={{
    width: '100%',
    height: '800px',
    border: 0,
    borderRadius: '4px',
    overflow: 'hidden',
  }}
  title="RTK Query Authentication Example"
  allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb"
  sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"
></iframe>

### `extraReducers` 사용하기

이 예제는 endpoint의 matcher와 `authSlice`의 `extraReducers`를 사용합니다.

<iframe
  src="https://codesandbox.io/embed/github/reduxjs/redux-toolkit/tree/master/examples/query/react/authentication-with-extrareducers?fontsize=12&hidenavigation=1&module=%2Fsrc%2Ffeatures%2Fauth%2FauthSlice.tsx&theme=dark&runonclick=1"
  style={{
    width: '100%',
    height: '800px',
    border: 0,
    borderRadius: '4px',
    overflow: 'hidden',
  }}
  title="RTK Query Authentication Example - extraReducers"
  allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
></iframe>

## React Class Components

클래스 컴포넌트의 사용 예시는 `PostDetail` 컴포넌트를 확인하세요.

<iframe
  src="https://codesandbox.io/embed/react-class-component-example-48hyq?fontsize=12&hidenavigation=1&theme=dark&runonclick=1"
  style={{
    width: '100%',
    height: '800px',
    border: 0,
    borderRadius: '4px',
    overflow: 'hidden',
  }}
  title="RTK Query React Class Components Example"
  allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb"
  sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"
></iframe>

## Svelte

<iframe
  src="https://codesandbox.io/embed/svelte-app-rtk-simplequery-demo-f1ueb?fontsize=12&hidenavigation=1&theme=dark&runonclick=1"
  style={{
    width: '100%',
    height: '800px',
    border: 0,
    borderRadius: '4px',
    overflow: 'hidden',
  }}
  title="RTK Query Svelte Example"
  allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb"
  sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"
></iframe>
